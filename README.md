# ライトノベルの新刊情報をスクレイピングして、Notionに追加するプログラム。

コードに無駄が多いです。授業の合間を縫って修正していきます。<br><b>スクレイピング元のサイトに関して、規約に違反していないことは確かめていますが、今後規約の変更でスクレイピングが禁止となる場合も考えられます。<br>また、リクエスト前にはしつこいくらいtime.sleepを入れています。これらの変更に関しては自己責任でお願いいたします。</b>

## 仕様

- 各レーベルの新刊の欄から情報を取得して、以下の内容をNotionのデータベースに追加する。
    - タイトル
    - 発売日
    - レーベル
    - 追っている作品かどうか
- タイトルが既存のメモに完全に一致している場合は、データベースに追加しない。
- 60日以上前に追加した内容は（追っている作品以外は）削除する。
- 実行はMacの場合はcron（Windowsはタスクスケジューラ）を使って定期的にmain.pyを動かす。
- 実行は1日1回程度を想定しています。

## 追記
- 2023-04-09
    - Notion APIの呼び出し制限（データベースのアイテム100個まで）により、作品を重複して追加してしまう不具合を修正。
- 2023-09-15
    - ガガガ文庫作品の発売日を18日固定としていたので、18日以外の発売でも対応できるように修正。
    - その他のコードについても一部内容を修正。
- 2023-10-10
    - requirements.txtを追加。現時点でrequestsを最新バージョンにすると一部サイトにアクセスできない。